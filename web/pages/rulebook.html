<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Maeri RPG ‚Äì Rulebook</title>

  <meta name="description" content="Maeri RPG Core Rulebook" />

  <!-- Styles -->
  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/components.css" />
  <link rel="stylesheet" href="../css/overlays.css" />
</head>

<body>
  <!-- =========================
       Header + Search
  ========================== -->
  <header>
    <h1>Maeri RPG</h1>
    <p>Core Rulebook</p>

    <div
      id="rulebook-search"
      class="search-container"
      role="search"
      aria-label="Search rules"
    >
      <input
        type="search"
        id="search-input"
        placeholder="Search rule, term or action..."
        autocomplete="off"
      />
      <div
        id="search-results"
        class="search-results hidden"
        aria-live="polite"
      ></div>
    </div>
  </header>

  <!-- =========================
       Rulebook TOC
  ========================== -->

  <!-- Toggle -->
  <button
    id="toc-toggle"
    aria-label="Open Rulebook Index"
    aria-expanded="false"
  >
    ‚ò∞
  </button>

  <!-- Overlay -->
  <div id="toc-overlay"></div>

  <!-- Panel -->
  <div
    id="toc-panel"
    aria-hidden="true"
    role="navigation"
    aria-label="Rulebook Index"
  >
    <div class="toc-header">
      <h2>Index</h2>
    </div>

    <p id="toc-chapter-title" class="toc-chapter-title">‚Äî</p>

    <select
      id="chapter-select"
      aria-label="Select chapter"
    ></select>

    <div class="chapter-nav">
      <button id="chapter-prev" type="button">
        ‚Üê Previous
      </button>
      <button id="chapter-next" type="button">
        Next ‚Üí
      </button>
    </div>

    <ul id="toc-list"></ul>
  </div>

  <!-- =========================
       Main Content
  ========================== -->
  <main class="rulebook">
    <div id="rulebook-content"></div>
  </main>

  <!-- =========================
       Footer
  ========================== -->
  <footer>
    <p>
      <a href="../index.html">‚Üê Back to Home</a>
    </p>
  </footer>

  <!-- =========================
       Dice Roller (Global)
  ========================== -->

  <!-- Toggle -->
  <button id="dice-toggle" aria-label="Open Dice Roller">
    üé≤
  </button>

  <!-- Overlay -->
  <div id="dice-overlay"></div>

  <!-- Panel -->
  <div id="dice-panel">
    <header>
      <h2>Dice Roller</h2>
    </header>

    <section>
      <label for="dice-type"><strong>Dice Type</strong></label>
      <select id="dice-type">
        <option value="2">d2</option>
        <option value="3">d3</option>
        <option value="6" selected>d6</option>
      </select>
    </section>

    <section>
      <label for="dice-amount"><strong>Number of Dice</strong></label>
      <input
        type="number"
        id="dice-amount"
        min="1"
        max="20"
        value="1"
      />
    </section>

    <section>
      <button id="roll-button">Roll</button>
    </section>

    <section id="result">
      <p><strong>Rolls:</strong></p>
      <p id="result-output">‚Äî</p>

      <p><strong>Total:</strong></p>
      <p id="total-output">‚Äî</p>
    </section>

    <section id="history">
      <h3>History</h3>
      <ul id="history-output"></ul>
      <button id="clear-history">Clear</button>
    </section>
  </div>

  <!-- =========================
       Scripts
  ========================== -->
  <script src="../js/dice.js"></script>
  <script type="module" src="../js/rulebook/main.js"></script>

</body>
</html>
