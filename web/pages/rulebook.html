<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Maeri RPG – Rulebook</title>
  <meta name="description" content="Maeri RPG Core Rulebook" />

  <!-- Styles -->
  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/floatingButtons.css" />
  <link rel="stylesheet" href="../css/toc.css" />
  <link rel="stylesheet" href="../css/dice.css" />
  <link rel="stylesheet" href="../css/rulebook.css" />
  <link rel="stylesheet" href="../css/spells.css" />
  <link rel="stylesheet" href="../css/sheet.css" />
</head>

<body>

  <!-- =========================
       Header + Search
  ========================== -->
  <header>
    <h1>Maeri RPG</h1>
    <p>Core Rulebook</p>

    <div
      id="rulebook-search"
      class="search-container"
      role="search"
      aria-label="Search rules"
    >
      <input
        type="search"
        id="search-input"
        placeholder="Search rule, term or action..."
        autocomplete="off"
      />
      <div
        id="search-results"
        class="search-results hidden"
        aria-live="polite"
      ></div>
    </div>
  </header>

  <!-- =========================
       Rulebook TOC
  ========================== -->

  <button
    id="toc-toggle"
    aria-label="Open Rulebook Index"
    aria-expanded="false"
  >
    ☰
  </button>

  <div id="toc-overlay"></div>

  <div
    id="toc-panel"
    aria-hidden="true"
    role="navigation"
    aria-label="Rulebook Index"
  >
    <p id="toc-chapter-title" class="toc-chapter-title">—</p>

    <select id="chapter-select" aria-label="Select chapter"></select>

    <div class="chapter-nav">
      <button id="chapter-prev" type="button" class="button">
        ← Previous
      </button>
      <button id="chapter-next" type="button" class="button">
        Next →
      </button>
    </div>

    <ul id="toc-list"></ul>
  </div>

  <!-- =========================
       Main Content
  ========================== -->
  <main class="rulebook" role="main">
    <div id="rulebook-content"></div>
  </main>

  <!-- =========================
       Floating Action Buttons
  ========================== -->
  <aside class="floating-actions" aria-label="Rulebook actions">

    <button
      id="back-to-top"
      class="floating-button floating-button--pill floating-button--icon"
      aria-label="Back to Top"
      title="Back to Top"
    >
      ↑
    </button>

    <a
      href="../index.html"
      id="back-to-home"
      class="floating-button floating-button--pill floating-button--icon"
      aria-label="Back to Home"
      title="Back to Home"
    >
      ⌂
    </a>

    <button
      id="sheet-button"
      class="floating-button floating-button--pill floating-button--primary"
      aria-label="Open Character Sheet"
    >
      Ficha
    </button>

    <button
      id="spells-button"
      class="floating-button floating-button--pill floating-button--secondary"
      aria-label="Open Spells"
    >
      Magias
    </button>

    <button
      id="dice-toggle"
      class="floating-button floating-button--pill"
      aria-label="Open Dice Roller"
      aria-expanded="false"
    >
      Dados
    </button>

  </aside>

  <!-- =========================
        Modal Root (injeção)
  ========================== -->
  <div id="modal-root"></div>

  <!-- =========================
       Scripts
  ========================== -->
  <script type="module" src="../js/modalLoader.js"></script>
  <script type="module" src="../js/sheet.js"></script>
  <script type="module" src="../js/spells.js"></script>
  <script src="../js/dice.js"></script>
  <script type="module" src="../js/rulebook/main.js"></script>

</body>
</html>