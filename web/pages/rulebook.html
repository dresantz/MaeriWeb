<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Maeri RPG ‚Äì Rulebook</title>

  <meta name="description" content="Maeri RPG Core Rulebook" />

  <!-- Styles -->
  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/components.css" />
  <link rel="stylesheet" href="../css/overlays.css" />
</head>

<body>
  <!-- =========================
       Header + Search
  ========================== -->
  <header>
    <h1>Maeri RPG</h1>
    <p>Core Rulebook</p>

    <div
      id="rulebook-search"
      class="search-container"
      role="search"
      aria-label="Search rules"
    >
      <input
        type="search"
        id="search-input"
        placeholder="Search rule, term or action..."
        autocomplete="off"
      />
      <div
        id="search-results"
        class="search-results hidden"
        aria-live="polite"
      ></div>
    </div>
  </header>

  <!-- =========================
       Rulebook TOC
  ========================== -->

  <!-- Toggle -->
  <button
    id="toc-toggle"
    aria-label="Open Rulebook Index"
    aria-expanded="false"
  >
    ‚ò∞
  </button>

  <!-- Overlay -->
  <div id="toc-overlay"></div>

  <!-- Panel -->
  <div
    id="toc-panel"
    aria-hidden="true"
    role="navigation"
    aria-label="Rulebook Index"
  >
    <div class="toc-header">
      <h2>Index</h2>
    </div>

    <p id="toc-chapter-title" class="toc-chapter-title">‚Äî</p>

    <select
      id="chapter-select"
      aria-label="Select chapter"
    ></select>

    <div class="chapter-nav">
      <button id="chapter-prev" type="button">
        ‚Üê Previous
      </button>
      <button id="chapter-next" type="button">
        Next ‚Üí
      </button>
    </div>

    <ul id="toc-list"></ul>
  </div>

  <!-- =========================
       Main Content
  ========================== -->
  <main class="rulebook" role:"main">
    <div id="rulebook-content"></div>
  </main>

  <!-- =========================
     Rulebook Navigation Buttons
  ========================== -->

  <button
    id="back-to-top"
    aria-label="Back to Top"
    title="Back to Top"
  >
    ‚Üë
  </button>

  <a
    href="../index.html"
    id="back-to-home"
    aria-label="Back to Home"
    title="Back to Home"
  >
    ‚åÇ
  </a>

  <!-- =========================
       Footer
  ========================== -->
  <footer>
    <p>
      <a href="../index.html">‚Üê Back to Home</a>
    </p>
  </footer>

  <!-- =========================
       Dice Roller (Global)
  ========================== -->

  <!-- Toggle -->
  <button
  id="dice-toggle"
  aria-label="Open Dice Roller"
  aria-expanded="false"
>
    üé≤
  </button>

  <!-- Overlay -->
  <div id="dice-overlay"></div>

  <!-- Panel -->
  <div id="dice-panel">
    <div class="dice-content">

      <section id="dice-buttons">
        <div class="dice-btn" data-sides="2">
          <button>d2</button>
          <span class="counter" id="count-d2">0</span>
        </div>

        <div class="dice-btn" data-sides="3">
          <button>d3</button>
          <span class="counter" id="count-d3">0</span>
        </div>

        <div class="dice-btn" data-sides="6">
          <button>d6</button>
          <span class="counter" id="count-d6">0</span>
        </div>
      </section>

      <section class="dice-actions">
        <button id="roll-button">Roll</button>
        <button id="clear-all">Clear</button>
      </section>


      <section id="result">
        <div class="result-line">
          <strong>Rolls:</strong>
          <span id="result-output">‚Äî</span>
        </div>

        <div class="result-line total">
          <strong>Total:</strong>
          <span id="total-output">‚Äî</span>
        </div>
      </section>

      <section id="history">
        <h3>History</h3>
        <ul id="history-output"></ul>
        <button id="clear-history">Clear</button>
      </section>

    </div>
  </div>

  <!-- =========================
       Scripts
  ========================== -->
  <script src="../js/dice.js"></script>
  <script type="module" src="../js/rulebook/main.js"></script>

</body>
</html>
